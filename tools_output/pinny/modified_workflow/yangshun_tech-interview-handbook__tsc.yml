name: Typecheck
on:
pull_request:
branches:
- main
concurrency:
group: ${{ github.workflow }}-${{ github.head_ref || github.run_id }}
cancel-in-progress: true
permissions:
contents: read
jobs:
tsc:
name: Typecheck
timeout-minutes: 30
runs-on: ubuntu-latest
steps:
- name: Checkout
uses: actions/checkout@f43a0e5ff2bd294095638e18286ca9a3d1956744 # actions/checkout@v3 | releases,v3.6.0
- name: Set up Node
uses: actions/setup-node@3235b876344d2a9aa001b8d1453c930bba69e610 # actions/setup-node@v3 | releases,v3.9.1
with:
node-version: '16'
cache: yarn
- name: Installation
run: yarn
- name: Check immutable yarn.lock
run: git diff --exit-code
# Build the shared types in dependent packages.
- name: Build dependencies
run: yarn turbo run build --filter=ui
- name: Typecheck
run: yarn tsc